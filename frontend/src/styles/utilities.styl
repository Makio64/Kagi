// Modern CSS Utility Classes
// Using CSS custom properties for dynamic theming and modern CSS features

// ========================================
// Layout Utilities
// ========================================

// Container queries support
.container-responsive
	container-type: inline-size

// Modern Grid Utilities
.grid
	display: grid
	gap: var(--space-4)

.grid-auto-fit-sm
	grid-template-columns: repeat(auto-fit, minmax(200px, 1fr))

.grid-auto-fit-md
	grid-template-columns: repeat(auto-fit, minmax(250px, 1fr))

.grid-auto-fit-lg
	grid-template-columns: repeat(auto-fit, minmax(350px, 1fr))

// Grid with named areas (dashboard layout)
.grid-dashboard
	display: grid
	grid-template-areas: "sidebar main"
	grid-template-columns: minmax(250px, auto) 1fr
	gap: var(--space-6)

	@container (max-width: 768px)
		grid-template-areas: "main" "sidebar"
		grid-template-columns: 1fr

// Flexbox utilities
.flex
	display: flex

.flex-center
	display: flex
	align-items: center
	justify-content: center

.flex-between
	display: flex
	justify-content: space-between
	align-items: center

.flex-col
	display: flex
	flex-direction: column

.gap-1 { gap: var(--space-1) }
.gap-2 { gap: var(--space-2) }
.gap-3 { gap: var(--space-3) }
.gap-4 { gap: var(--space-4) }
.gap-5 { gap: var(--space-5) }
.gap-6 { gap: var(--space-6) }

// ========================================
// Card Components
// ========================================

.card
	--card-bg: var(--surface-base)
	--card-border: var(--color-border-light)
	--card-shadow: var(--shadow-sm)
	--card-radius: var(--radius-lg)

	background: var(--card-bg)
	border: 1px solid var(--card-border)
	border-radius: var(--card-radius)
	box-shadow: var(--card-shadow)
	padding: var(--space-6)
	transition: all var(--transition-base)

.card-hover
	&:hover
		--card-shadow: var(--shadow-md)
		transform: translateY(-2px)

.card-clickable
	cursor: pointer

	&:active
		transform: translateY(0)

// Card variants using data attributes
.card[data-variant="primary"]
	--card-bg: var(--gradient-primary-light)
	--card-border: var(--color-primary-200)

.card[data-variant="success"]
	--card-bg: var(--color-success-50)
	--card-border: var(--color-success-200)

.card[data-variant="warning"]
	--card-bg: var(--color-warning-50)
	--card-border: var(--color-warning-200)

// ========================================
// Button Utilities
// ========================================

.btn
	--btn-bg: var(--color-primary)
	--btn-color: white
	--btn-radius: var(--radius-md)
	--btn-padding-x: var(--space-5)
	--btn-padding-y: var(--space-3)

	background: var(--btn-bg)
	color: var(--btn-color)
	padding: var(--btn-padding-y) var(--btn-padding-x)
	border-radius: var(--btn-radius)
	border: none
	cursor: pointer
	font-weight: 600
	transition: all var(--transition-base)

	&:hover:not(:disabled)
		filter: brightness(1.1)
		transform: translateY(-2px)
		box-shadow: var(--shadow-md)

	&:disabled
		opacity: 0.6
		cursor: not-allowed

.btn-secondary
	--btn-bg: var(--color-gray-200)
	--btn-color: var(--color-gray-800)

.btn-ghost
	--btn-bg: transparent
	--btn-color: var(--color-primary)
	border: 1px solid currentColor

	&:hover:not(:disabled)
		--btn-bg: var(--color-primary)
		--btn-color: white

// ========================================
// Typography Utilities
// ========================================

// Fluid typography using clamp()
.text-xs { font-size: var(--text-xs) }
.text-sm { font-size: var(--text-sm) }
.text-base { font-size: var(--text-base) }
.text-lg { font-size: var(--text-lg) }
.text-xl { font-size: var(--text-xl) }
.text-2xl { font-size: var(--text-2xl) }
.text-3xl { font-size: var(--text-3xl) }

.font-normal { font-weight: 400 }
.font-medium { font-weight: 500 }
.font-semibold { font-weight: 600 }
.font-bold { font-weight: 700 }

.text-center { text-align: center }
.text-left { text-align: left }
.text-right { text-align: right }

// Text colors using custom properties
.text-primary { color: var(--color-primary) }
.text-secondary { color: var(--color-gray-600) }
.text-success { color: var(--color-success) }
.text-warning { color: var(--color-warning) }
.text-danger { color: var(--color-danger) }

// ========================================
// Spacing Utilities (logical properties)
// ========================================

// Padding utilities
.p-0 { padding: 0 }
.p-1 { padding: var(--space-1) }
.p-2 { padding: var(--space-2) }
.p-3 { padding: var(--space-3) }
.p-4 { padding: var(--space-4) }
.p-5 { padding: var(--space-5) }
.p-6 { padding: var(--space-6) }

// Logical padding
.px-1 { padding-inline: var(--space-1) }
.px-2 { padding-inline: var(--space-2) }
.px-3 { padding-inline: var(--space-3) }
.px-4 { padding-inline: var(--space-4) }
.px-5 { padding-inline: var(--space-5) }
.px-6 { padding-inline: var(--space-6) }

.py-1 { padding-block: var(--space-1) }
.py-2 { padding-block: var(--space-2) }
.py-3 { padding-block: var(--space-3) }
.py-4 { padding-block: var(--space-4) }
.py-5 { padding-block: var(--space-5) }
.py-6 { padding-block: var(--space-6) }

// Margin utilities
.m-0 { margin: 0 }
.m-auto { margin: auto }
.mx-auto { margin-inline: auto }

.mt-1 { margin-block-start: var(--space-1) }
.mt-2 { margin-block-start: var(--space-2) }
.mt-3 { margin-block-start: var(--space-3) }
.mt-4 { margin-block-start: var(--space-4) }
.mt-5 { margin-block-start: var(--space-5) }
.mt-6 { margin-block-start: var(--space-6) }

.mb-1 { margin-block-end: var(--space-1) }
.mb-2 { margin-block-end: var(--space-2) }
.mb-3 { margin-block-end: var(--space-3) }
.mb-4 { margin-block-end: var(--space-4) }
.mb-5 { margin-block-end: var(--space-5) }
.mb-6 { margin-block-end: var(--space-6) }

// ========================================
// Border Utilities
// ========================================

.rounded-sm { border-radius: var(--radius-sm) }
.rounded { border-radius: var(--radius-md) }
.rounded-lg { border-radius: var(--radius-lg) }
.rounded-xl { border-radius: var(--radius-xl) }
.rounded-full { border-radius: 9999px }

.border { border: 1px solid var(--color-border) }
.border-t { border-block-start: 1px solid var(--color-border) }
.border-b { border-block-end: 1px solid var(--color-border) }

// ========================================
// Shadow Utilities
// ========================================

.shadow-none { box-shadow: none }
.shadow-sm { box-shadow: var(--shadow-sm) }
.shadow { box-shadow: var(--shadow-base) }
.shadow-md { box-shadow: var(--shadow-md) }
.shadow-lg { box-shadow: var(--shadow-lg) }
.shadow-xl { box-shadow: var(--shadow-xl) }

// ========================================
// Status Utilities (semantic)
// ========================================

.status
	--status-bg: var(--color-gray-100)
	--status-color: var(--color-gray-700)

	display: inline-block
	padding: var(--space-1) var(--space-3)
	background: var(--status-bg)
	color: var(--status-color)
	border-radius: var(--radius-full)
	font-size: var(--text-xs)
	font-weight: 600
	text-transform: capitalize

.status[data-status="active"],
.status[data-status="paid"],
.status[data-status="success"]
	--status-bg: var(--color-success-100)
	--status-color: var(--color-success-700)

.status[data-status="pending"],
.status[data-status="processing"]
	--status-bg: var(--color-warning-100)
	--status-color: var(--color-warning-700)

.status[data-status="urgent"],
.status[data-status="overdue"],
.status[data-status="error"]
	--status-bg: var(--color-danger-100)
	--status-color: var(--color-danger-700)

// ========================================
// Animation Utilities
// ========================================

.transition-all { transition: all var(--transition-base) }
.transition-colors { transition: colors var(--transition-base) }
.transition-transform { transition: transform var(--transition-base) }

.animate-fade-in
	animation: fadeIn var(--transition-slow)

.animate-slide-up
	animation: slideUp var(--transition-base)

@keyframes fadeIn
	from
		opacity: 0
	to
		opacity: 1

@keyframes slideUp
	from
		opacity: 0
		transform: translateY(10px)
	to
		opacity: 1
		transform: translateY(0)

// ========================================
// Responsive Utilities
// ========================================

// Hide/show based on container queries
@container (max-width: 768px)
	.hide-mobile { display: none }
	.show-mobile { display: block }

@container (min-width: 769px)
	.hide-desktop { display: none }
	.show-desktop { display: block }

// ========================================
// Accessibility Utilities
// ========================================

.sr-only
	position: absolute
	width: 1px
	height: 1px
	padding: 0
	margin: -1px
	overflow: hidden
	clip: rect(0, 0, 0, 0)
	white-space: nowrap
	border: 0

.focus-visible:focus
	outline: 2px solid var(--color-primary)
	outline-offset: 2px

// ========================================
// Gradient Utilities
// ========================================

.gradient-primary
	background: var(--gradient-primary)

.gradient-light
	background: var(--gradient-light)

.gradient-surface
	background: var(--gradient-surface)